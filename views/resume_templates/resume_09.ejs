<div class="resume-template modern" style="padding:32px 40px; background:#fff; max-width:800px; margin:0 auto; border-radius:12px; box-shadow:0 4px 12px #0002;">
  <% // Profile Image %>
  <div style="display:flex; align-items:center; margin-bottom:24px;">
    <div style="flex:0 0 60px;">
      <img src="<%= resumeData.profilePic || '/default-user.png' %>" alt="Profile Photo" class="profile-image" style="width:60px; height:60px; border-radius:50%;">
    </div>
    <div style="margin-left:20px;">
      <div class="resume-name" contenteditable="true" style="font-size:2rem; font-weight:700;">
        <%= resumeData.name || 'Your Name' %>
      </div>
      <div contenteditable="true" style="color:#555; font-size:1rem;">
        <%= resumeData.phone || 'Add phone number' %> | <%= resumeData.email || 'Add email' %>
      </div>
    </div>
  </div>
  
  <% // Education Section %>
  <section>
    <h2 class="section-title" contenteditable="true" style="font-size:1.25rem; font-weight:700; margin-bottom:10px; color:#4d44db;">Education</h2>
    <% if (resumeData.education && resumeData.education.length) {
        resumeData.education.forEach(edu => { %>
          <div class="education-item" style="margin-bottom:16px;">
            <div><strong contenteditable="true"><%= edu.degree || 'Enter degree' %></strong>, 
              <em contenteditable="true"><%= edu.school || 'Enter school' %></em>
              <span style="color:#666;" contenteditable="true"><%= edu.date || '' %></span>
            </div>
            <div style="color:#555;">
              <span contenteditable="true"><%= edu.major || 'Enter major/stream' %></span>
            </div>
          </div>
    <% }) } else { %>
      <div class="education-item" style="margin-bottom:16px;">
        <strong contenteditable="true">Add education...</strong>
      </div>
    <% } %>
  </section>

  <% // Experience Section %>
  <section>
    <h2 class="section-title" contenteditable="true" style="font-size:1.25rem; font-weight:700; margin-bottom:10px; color:#4d44db;">Experience</h2>
    <% if (resumeData.experience && resumeData.experience.length) {
        resumeData.experience.forEach(exp => { %>
          <div class="experience-item" style="margin-bottom:16px;">
            <div>
              <strong contenteditable="true"><%= exp.position || 'Enter position' %></strong> @ 
              <span contenteditable="true"><%= exp.company || 'Enter company' %></span> 
              <span style="color:#666;" contenteditable="true"><%= exp.date || '' %></span>
            </div>
            <ul>
              <% if (exp.responsibilities && exp.responsibilities.length) {
                  exp.responsibilities.forEach(item => { %>
                    <li contenteditable="true"><%= item || 'Add responsibility...' %></li>
              <%   }) 
                } else { %>
                  <li contenteditable="true">Add responsibility...</li>
              <% } %>
            </ul>
          </div>
    <% }) } else { %>
      <div class="experience-item" style="margin-bottom:16px;">
        <strong contenteditable="true">Add work experience...</strong>
      </div>
    <% } %>
  </section>

  <% // Skills Section %>
  <section>
    <h2 class="section-title" contenteditable="true" style="font-size:1.25rem; font-weight:700; margin-bottom:10px; color:#4d44db;">Skills</h2>
    <% if (resumeData.skills && Object.keys(resumeData.skills).length) {
      for (const category in resumeData.skills) { %>
        <div style="margin-bottom:8px;">
          <strong contenteditable="true"><%= category %>:</strong>
          <span contenteditable="true"><%= resumeData.skills[category].join(', ') || 'Add skills' %></span>
        </div>
    <% } } else { %>
      <div><span contenteditable="true">Add skills...</span></div>
    <% } %>
  </section>

  <% // Projects Section %>
  <section>
    <h2 class="section-title" contenteditable="true" style="font-size:1.25rem; font-weight:700; margin-bottom:10px; color:#4d44db;">Projects</h2>
    <% if (resumeData.projects && resumeData.projects.length) {
        resumeData.projects.forEach(proj => { %>
          <div class="project-item" style="margin-bottom:16px;">
            <strong contenteditable="true"><%= proj.name || 'Add project name...' %></strong>
            <span style="color:#666;" contenteditable="true"><%= proj.date || '' %></span>
            <div style="color:#555;">
              Technologies: <span contenteditable="true"><%= proj.technologies || 'Add technologies...' %></span>
            </div>
            <% if (proj.details && proj.details.length) { %>
              <ul>
                <% proj.details.forEach(detail => { %>
                  <li contenteditable="true"><%= detail || 'Add project detail...' %></li>
                <% }) %>
              </ul>
            <% } else { %>
              <ul><li contenteditable="true">Add project detail...</li></ul>
            <% } %>
          </div>
    <% }) } else { %>
      <div class="project-item" style="margin-bottom:16px;">
        <strong contenteditable="true">Add project...</strong>
      </div>
    <% } %>
  </section>

  <% // Achievements Section %>
  <section>
    <h2 class="section-title" contenteditable="true" style="font-size:1.25rem; font-weight:700; margin-bottom:10px; color:#4d44db;">Achievements</h2>
    <ul>
      <% if (resumeData.achievements && resumeData.achievements.length) {
          resumeData.achievements.forEach(ach => { %>
            <li contenteditable="true"><%= ach || 'Add achievement...' %></li>
      <% }) } else { %>
        <li contenteditable="true">Add achievement...</li>
      <% } %>
    </ul>
  </section>
</div>
