<header>
  <h1 contenteditable="true"><%= resumeData.name %></h1>
  <p contenteditable="true"><%= resumeData.phone %> | <%= resumeData.email %> | <%= resumeData.linkedin || '' %></p>
</header>

<section>
  <h2 class="section-title" contenteditable="true">Professional Summary</h2>
  <p contenteditable="true"><%= resumeData.summary || 'Add your professional summary here.' %></p>
</section>

<section>
  <h2 class="section-title" contenteditable="true">Education</h2>
  <% resumeData.education.forEach(function(edu) { %>
    <div class="section" style="position: relative; margin-bottom: 15px;">
      <button class="delete-section-btn" title="Delete section"><i class="fas fa-times"></i></button>
      <strong contenteditable="true"><%= edu.degree %></strong> — 
      <span contenteditable="true"><%= edu.school %></span> 
      (<span contenteditable="true"><%= edu.date %></span>)<br/>
      Major: <span contenteditable="true"><%= edu.major %></span>
    </div>
  <% }); %>
</section>

<section>
  <h2 class="section-title" contenteditable="true">Work Experience</h2>
  <% resumeData.experience.forEach(function(exp) { %>
    <div class="section" style="position: relative; margin-bottom: 20px;">
      <button class="delete-section-btn" title="Delete section"><i class="fas fa-times"></i></button>
      <h3 contenteditable="true"><%= exp.position %></h3>
      <p contenteditable="true"><%= exp.company %> — <%= exp.date %></p>
      <ul>
        <% exp.responsibilities.forEach(function(item) { %>
          <li contenteditable="true"><%= item %></li>
        <% }); %>
      </ul>
    </div>
  <% }); %>
</section>

<section>
  <h2 class="section-title" contenteditable="true">Skills</h2>
  <% for (const category in resumeData.skills) { %>
    <div class="section" style="position: relative; margin-bottom: 10px;">
      <button class="delete-section-btn" title="Delete section"><i class="fas fa-times"></i></button>
      <strong contenteditable="true"><%= category %>:</strong>
      <span contenteditable="true"><%= resumeData.skills[category].join(', ') %></span>
    </div>
  <% } %>
</section>

<section>
  <h2 class="section-title" contenteditable="true">Certifications</h2>
  <ul>
    <% if (resumeData.certifications && resumeData.certifications.length > 0) { %>
      <% resumeData.certifications.forEach(function(cert) { %>
        <li contenteditable="true"><%= cert %></li>
      <% }); %>
    <% } else { %>
      <li contenteditable="true">No certifications listed.</li>
    <% } %>
  </ul>
</section>

<section>
  <h2 class="section-title" contenteditable="true">Projects</h2>
  <% resumeData.projects.forEach(function(proj) { %>
    <div class="section" style="position: relative; margin-bottom: 20px;">
      <button class="delete-section-btn" title="Delete section"><i class="fas fa-times"></i></button>
      <h3 contenteditable="true"><%= proj.name %></h3>
      <p contenteditable="true"><%= proj.date %></p>
      <p contenteditable="true">Technologies: <%= proj.technologies %></p>
      <ul>
        <% proj.details.forEach(function(detail) { %>
          <li contenteditable="true"><%= detail %></li>
        <% }); %>
      </ul>
    </div>
  <% }); %>
</section>

<section>
  <h2 class="section-title" contenteditable="true">Achievements</h2>
  <ul>
    <% if (resumeData.achievements && resumeData.achievements.length > 0) { %>
      <% resumeData.achievements.forEach(function(ach) { %>
        <li contenteditable="true"><%= ach %></li>
      <% }); %>
    <% } else { %>
      <li contenteditable="true">No achievements listed.</li>
    <% } %>
  </ul>
</section>
